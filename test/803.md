```php
原贴地址(在码云):https://git.oschina.net/leeknows/codes/vepkhlt8rjix6uc20yw9b

description'>
最佳字符串匹配demo


代码:

<?php
$dist = array(
273153392,
722205068,
477221893,
782197050,
781893156,
935681033,
423394071,
137558658,
745218230,
361578306,
675770018,
18252513,
896182096,
669890595,
311758315,
500552442,
350105070,
205353346,
812126584,
821111379,
518871213,
424347363,
562235002,
824995345,
140987970,
133011689,
531921463,
507828932,
769464378,
765909997,
195788666,
42617770,
488115064,
673010559,
824814821,
270008221,
608691592,
248208891,
407566879,
353909822,
609787198,
83336897,
372162335,
505969294,
753227493,
683920651,
6521736,
103332562,
889273997,
818648320,
924443942,
408145210,
242995683,
486678943,
233140555,
383983654,
619690633,
765062019,
891812587,
389155011,
530972015,
87601252,
431772781,
19087079,
760611813,
256587601,
289095300,
369303405,
504796493,
696662180,
723213227,
114583691,
779999078,
95375562,
620552986,
533226570,
779296213,
627074722,
636559133,
668570210,
445723042,
561003075,
76715420,
688718726,
47682018,
309855975,
72702379,
667372652,
74917993,
964514967,
56527662,
605890009,
52116219,
488300444,
624977089,
812728032,
744888047,
914072389,
182031437,
249684539,
610734569,
905244664,
364268231,
390733647,
620225,
984821218,
923960217,
779916439,
611895940,
560519350,
448486648,
57618982,
121522425,
525202069,
746337708,
169204443,
835058044,
819040088,
836577096,
909976038,
783555054,
893104759,
515866046,
835671274,
381405203,
140843134,
648399306,
126293249,
54915524,
830430743,
375977789,
665650093,
735675406,
740246020,
56383739,
736295632,
725067238,
980343957,
516212070,
336963177,
540863307,
964698719,
394582160,
662385733,
489900788,
140919868,
831590176,
324958831,
959959956,
668167272,
234934869,
743515010,
561272031,
750800916,
579186284,
942677234,
891644051,
227585589,
68970482,
946559575,
58016332,
444948272,
612209668,
793691738,
185194292,
668593408,
529987370,
910261530,
648937365,
46199440,
247224707,
189800672,
10898159,
641806868,
852186405,
500798947,
782726736,
683776581,
825757779,
742686691,
351943853,
60692648,
486201702,
913215884,
811493565,
65387985,
855893118,
703137615,
292973575,
924863601,
649697191,
350989907,
369811872,
261906859,
144681646,
555006165,
930500268,
674669016,
465267695,
579437633,
720868456,
712492403,
769238305,
731766616,
354299270,
621424710,
232565562,
137026006,
305201291,
58323341,
879712697,
657145145,
119015989,
365914399,
570361028,
930509555,
431302384,
426254146,
633647170,
724275960,
351117746,
283344360,
75265867,
720929619,
545251220,
219947513,
275935783,
475751487,
894616530,
741203478,
55189119,
615484986,
453695881,
824427425,
347251601,
807995151,
445852134,
579817164,
945021157,
751053426,
638140506,
824733855,
408198570,
757156496,
190648253,
978559599,
687666050,
621950638,
404813744,
321313220,
346226598,
755931491,
604657581,
421492466,
476861109,
149908800,
641439980,
752796893,
625660287,
536056510,
494000371,
680849407,
151541495,
947696252,
505276831,
498793097,
755691403,
951128966,
78610261,
700712559,
702182391,
716750767,
525446414,
110380960,
473907263,
716094667,
88940559,
161573313,
338045305,
493754304,
482886534,
684271903,
249685794,
87544114,
105764369,
726546904,
237452915,
747204349,
479343797,
863113203,
283260858,
973344168,
543962609,
434802354,
921040419,
49239439,
933595452,
676731822,
368405,
12205712,
377444381,
702550797,
728956481,
902890795,
812931758,
202863743,
618985462,
901872317,
364437057,
957030768,
395626620,
847323592,
641302670,
645312415,
934867707,
747067040,
371859318,
172320621,
494271389,
851203115,
35433823,
777532248,
824547283,
579396433,
212334602,
745587702,
628635873,
145930053,
422319523,
629004278,
158135767,
799763904,
331555075,
887092248,
702654699,
144486832,
89955991,
321640161,
46359148,
454393049,
278670928,
441985769,
301716640,
919973599,
87298183,
236584346,
667040638,
459157502,
408904967,
161312027,
310360617,
444338791,
938844275,
134907899,
23735223,
151178876,
880495601,
652371097,
297108930,
302815124,
281375375,
455244698,
102579027,
612930450,
342336945,
805233728,
757417283,
432292936,
126873888,
803776432,
886685986,
405544816,
245762201,
188402625,
325518415,
333060385,
424986971,
992559053,
792217887,
833891940,
153871080,
102578503,
278230730,
92715354,
237486403,
301965955,
243894231,
117982003,
954337052,
541003162,
420797128,
235712426,
996247860,
523376156,
848642878,
338584804,
328609883,
606060160,
770877742,
455483771,
409836592,
657563727,
861028588,
655598793,
845966352,
186547003,
988659178,
270953323,
179106056,
780877065,
104845263,
332977136,
883455568,
383075994,
425692491,
120941971,
685041949,
669586722,
238923975,
639379000,
210589884,
659721104,
875091427,
206837743,
183097259,
723734305,
545422548,
511707143,
329794464,
316300290,
967190915,
739631057,
973864017,
828219503,
395229849,
819830369,
14766505,
383889027,
90783692,
193872562,
164766091,
195628955,
526849699,
48221659,
578704950,
952542190,
169163631,
263746898,
622128913,
408087606,
903125899,
832718797,
67808710,
778217326,
39556540,
250905969,
501951630,
584979089,
762613113,
831746095,
901279379,
729804028,
571377152,
875143396,
558023530,
966607002,
694973764,
572790036,
350496028,
785757456,
766662598,
515262120,
981386412,
293512297,
563483780,
560091361,
246054487,
732647411,
823838260,
868183400,
140735017,
726964159,
700902197,
208543728,
505181484,
740458738,
459449698,
7133115,
325437827,
222062811,
838879210,
226717206,
951866839,
410256361,
101860601,
509890368,
376863363,
796834365,
82680404,
727359392,
582591822,
849343003,
242621511,
563978233,
142855299,
806105291,
124069594,
388909787,
538752702,
947907855,
257093187,
679487720,
674872014,
957995385,
888031448,
180053498,
698454123,
347481146,
187186613,
23891950,
569543957,
26065823,
250609156,
521410795,
436322185,
352469758,
31301163,
813185549,
149304123,
113981567,
540544940,
731895945,
963324570,
783166451,
295874178,
106179869,
589271742,
419943773,
495089657,
128024444,
367851628,
752182845,
807512164,
42723641,
710178230,
695543612,
222777140,
408632352,
43024757,
409963753,
432524303,
612568715,
436029577,
683133459,
133979509,
872351763,
35603217,
165280672,
685537311,
184907340,
279262240,
226082250,
916803285,
242586809,
9248701,
212677463,
348766679,
598520443,
632621236,
843856337,
726544888,
472863,
596039182,
534057051,
43196505,
306217411,
229600663,
265973645,
714849764,
272625421,
675937399,
147374067,
885194136,
111966976,
830507527,
19173645,
984318739,
866110744,
184454318,
669856050,
51018083,
463716558,
895938301,
967821369,
706303368,
905187003,
180498832,
55070047,
503707446,
813120068,
898926385,
230252333,
813592932,
494965566,
764309385,
856789438,
801182978,
993910049,
122763083,
516032741,
266535469,
798700483,
663406809,
151729605,
910667459,
493914335,
170903250,
894986198,
360025078,
355357569,
564842248,
411043162,
819074127,
460780549,
378864532,
525377495,
365967551,
559363364,
580447543,
869674997,
372483432,
479373927,
99927330,
186076364,
974339494,
864236716,
42865801,
775522471,
858146764,
165628885,
291555212,
124682232,
964329368,
954962021,
276411838,
874996827,
448876355,
447315088,
769983025,
808901434,
802672657,
334825273,
219944596,
621746784,
795605822,
598809128,
147124279,
161573372,
158172492,
727571822,
31248369,
530655924,
206945749,
131175700,
716732288,
181285242,
995412416,
759598090,
956807713,
853559180,
925226975,
248362925,
978241413,
889556343,
203324945,
254653251,
764553169,
652201301,
701968339,
534536194,
461102735,
504640997,
869361467,
681047332,
126387781,
664967288,
279856459,
273512060,
826540661,
438028952,
1083882,
857789031,
968684877,
208029631,
988964731,
685417165,
389314874,
984377148,
445015255,
346122587,
837936327,
370242230,
594485513,
816177740,
259798573,
797810459,
70830990,
24351741,
450011760,
772799330,
558887935,
911114495,
277440327,
428249401,
592161826,
403828108,
93216689,
872018287,
677340169,
919757350,
310047238,
678424051,
777546381,
278732115,
886453683,
766511112,
964149281,
275768557,
750888259,
409164536,
621891145,
588824586,
779406767,
216376657,
405002325,
39205339,
14187116,
475833315,
63557081,
464198876,
248632645,
622445017,
375313371,
526072972,
50694418,
967475198,
929901081,
143911108,
839493485,
607241249,
63668458,
149540723,
285665300,
841214839,
428272839,
172118982,
607725951,
392422120,
447887539,
358614209,
801586656,
69778684,
947438796,
580993423,
286155341,
352441120,
620198762,
300342458,
828274437,
683755844,
764541335,
76907081,
306200860,
139854706,
602980054,
356895279,
107329904,
532881134,
500806387,
946823389,
140122383,
564474845,
96364111,
425787683,
405689684,
524636951,
597906665,
13415635,
917059071,
45794204,
372029845,
718645727,
115572888,
319468640,
299639149,
401728231,
671909761,
919837912,
702070689,
500184197,
603593756,
466612024,
577091279,
909794616,
606466730,
180071332,
266689895,
713796634,
712952467,
767496283,
660620023,
853074850,
331971128,
756984135,
278862532,
737660812,
281621085,
876769198,
751076448,
198680156,
922563403,
123106292,
917325883,
38136291,
442574932,
216965032,
439864522,
114484693,
136802944,
141935211,
614668890,
740396700,
608547236,
191760168,
650191316,
215013966,
371831501,
916881212,
928810601,
84783968,
684377494,
589430623,
937858819,
16348621,
346414757,
216721350,
754009434,
628035843,
93490548,
505085881,
826716000,
16053950,
628192174,
744041882,
54190242,
70767106,
961006915,
494054765,
185251799,
97809859,
635989977,
799920689,
838206559,
244537212,
991680858,
488397875,
459551178,
363512358,
405279086,
388361778,
448296327,
89656579,
977792402,
386155145,
106005201,
324207159,
602876496,
860014635,
952243003,
696367044,
365100516,
778959002,
712420995,
993292691,
523000884,
766611237,
64059796,
484007799,
260666001,
249311595,
581817658,
896655979,
49232284,
420024217,
141193190,
40913141,
908422092,
600744369,
404425500,
313701177,
989106148,
852721828,
403357757,
966898549,
238876973,
509362958,
291105708,
841753469,
369377593,
243348710,
538120513,
734478110,
22307712,
250541507,
727770800,
545308596,
17152744,
791830597,
29316394,
277818746,
41142192,
611134052,
174474724,
90374476,
31158268,
315667915,
131287618,
939580361,
916412284,
535713119,
253281538,
905518432,
388434947,
656639295,
872416980,
627311920,
166002253,
163522688,
469065389,
535379847,
406871399,
7185901,
269857956,
429179111,
257727409,
997628757,
974487708,
274880153,
789459354,
3804102,
552698900,
830601547,
614938155,
727173624,
920976024,
646096424,
42841538,
52263641,
585676785,
959253822,
587976761,
838958323,
864772254,
976411708,
495597618,
737189234,
603723628,
661599872,
900711922,
72789016,
196979718,
307583321,
79974918,
466837675,
736762434,
337702328,
464466432,
711250141,
612582482,
253925786,
715054244,
165281381,
84527332,
329992399,
892455005,
5503355,
976088824,
935296543,
57766997,
561765609,
894550365,
645743758,
400723932,
759322618,
622155466,
896321551,
496511851,
225879094,
557921422,
397223774,
43,
24,
0,
1,
2,
3,
4,
5,
6,
7,
8,
9,
);//将数字串组成一个字典数组，用于皮队数据，后面这0-9的数据是必须的，因为如果最终匹配不到，只能匹配到单数字的长度
$result = array();
rsort($dist);//从大到小排序，这样后面循环处理的时候如果循环到最长长度的匹配值时，后面的所有字典就无需匹配了
$test = "437225879094324";
check($dist,$test);
print_r($result);


/*
  传入字典和需要测试的数字串
*/
function check($dist,$str){
	foreach ($dist as $key => $value) {
		if($value>$str){
      unset($dist[$key]);//删除没有意义的key
			continue;
		}
		if(strpos((string) $str,(string) $value)!==false){
			$GLOBALS['result'][] = $value;
			$tmp = explode($value,$str);
			foreach ($tmp as $check) {
				if($check){
					check($dist,$check);	
				}
			}
			break;
		}
	}
}






```